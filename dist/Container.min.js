!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Container=b()}):"object"==typeof exports?module.exports=b():a.Container=b()}(this,function(){"use strict";function a(a){var b=function(b){a.apply(this,b)};return b.prototype=a.prototype,b}function b(a){var b=[];return a.forEach(function(a){var c="function"==typeof a?a():this.get(a);b.push(c)}.bind(this)),b}var c=function(a){a=a||{},this.map={},Object.keys(a).forEach(function(b){this.bind(b,a[b])}.bind(this))};return c.prototype.has=function(a){return!!this.map[a]},c.prototype.bind=function(a,b,c){if("function"!=typeof b)throw new TypeError("Given `instance` does not seem like Class definition.");if(!0===this.has(a))throw new Error('Element "'+a+'" is already bound.');!1===Array.isArray(c)&&(c=[]),this.map[a]={instance:b,parameters:c,isSingleton:!1}},c.prototype.singleton=function(a,b){if("object"!=typeof b)throw new TypeError("Given `instance` does not seem like class instance.");if(!0===this.has(a))throw new Error('Element "'+a+'" is already bound.');this.map[a]={instance:b,parameters:[],isSingleton:!0}},c.prototype.get=function(c,d){if(!1===this.has(c))throw new Error('Element "'+c+'" does not exist.');var e=this.map[c];if(!0===e.isSingleton)return"function"==typeof d?d.call(e.instance):e.instance;if("undefined"==typeof d&&0===e.parameters.length)return new e.instance;if("function"==typeof d&&0===e.parameters.length)return d.call(new e.instance);var f=b.call(this,e.parameters),g=new(a(e.instance))(f);return"function"==typeof d?d.call(g):g},c.prototype.remove=function(a){delete this.map[a]},c});